<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="A Fortran regular expresion engine.">
    <meta name="author" content="Amasaki Shinobu" >
    <link rel="icon" href="../../favicon.png">

    <title>Japanese/日本語 &ndash; Forgex—Fortran Regular Expression</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
      <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
      <link href="../../css/user.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../../index.html">Forgex—Fortran Regular Expression </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../index.html">Documentation</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>Japanese/日本語</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
              <li class="list-inline-item" id="author"><i class="fa fa-pencil"></i> 雨崎しのぶ</li>
              <li class="list-inline-item" id="date"><i class="fa fa-calendar-o"></i> 2024-07-12</li>
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../index.html'>Documentation</a></li>
              <li class="breadcrumb-item active" aria-current="page">Japanese/日本語</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Documentation</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="../English/index.html">English</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../English/terms_related_to_forgex_en.html">Terms related to Forgex</a>

                </nav>
              <a class="nav-link active disabled" href="index.html">Japanese/日本語</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="terms_of_forgex_ja.html">Forgexの用語</a>

                </nav>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <h1>Readme</h1>
<p>Forgexは、すべてFortranで書かれた正規表現エンジンです。</p>
<p>このプロジェクトは<a href="https://fpm.fortran-lang.org/ja/index.html">Fortranパッケージマネージャー</a>で管理され、
正規表現の基本的な処理を提供し、<a href="https://github.com/ShinobuAmasaki/forgex/blob/main/LICENSE">MITライセンス</a>
のもとで利用可能なフリーソフトウェアです。
エンジンの核となるアルゴリズムには決定性有限オートマトン（Deterministic Finite Automaton, DFA）を使用しています。
この選択は実行時パフォーマンスを重視したものです。</p>
<h2>機能</h2>
<p>Forgexが処理を受け付ける正規表現の記法は以下の通りです。</p>
<h3>メタキャラクター</h3>
<ul>
<li><code>|</code>  選言（alternation）のバーティカルバー</li>
<li><code>*</code>  ゼロ回以上にマッチするアスタリスク</li>
<li><code>+</code>  一回以上にマッチするプラス記号</li>
<li><code>?</code>  ゼロ回または一回にマッチするクエスチョンマーク</li>
<li><code>\</code>  メタキャラクターのエスケープ</li>
<li><code>.</code>  任意の一文字にマッチするピリオド</li>
</ul>
<h3>文字クラス</h3>
<ul>
<li>文字クラス（例： <code>[a-z]</code>）</li>
<li>否定クラス（例: <code>[^a-z]</code>）</li>
<li>Unicode文字クラス（例: <code>[α-ωぁ-ん]</code>）</li>
</ul>
<h3>繰り返し回数の指定</h3>
<ul>
<li><code>{num}</code>,</li>
<li><code>{,max}</code>,</li>
<li><code>{min,}</code>,</li>
<li><code>{min, max}</code>,
ここで <code>num</code>と<code>max</code>は0（ゼロ）以外の自然数を指定します。</li>
</ul>
<h3>アンカー</h3>
<ul>
<li><code>^</code>, 行頭にマッチ</li>
<li><code>$</code>, 行末にマッチ</li>
</ul>
<h3>略記法</h3>
<ul>
<li><code>\t</code>, タブ文字</li>
<li><code>\n</code>, 改行文字 (LFまたはCRLF)</li>
<li><code>\r</code>, 復帰文字 (CR)</li>
<li><code>\s</code>, 空白文字 (半角スペース, タブ文字, CR, LF, FF, 全角スペース U+3000)</li>
<li><code>\S</code>, 非空白文字</li>
<li><code>\w</code>, ラテン文字アルファベット、半角数字及びアンダースコア(<code>[a-zA-Z0-9_]</code>)</li>
<li><code>\W</code>, <code>\w</code>の否定クラス(<code>[^a-zA-Z0-9_]</code>)</li>
<li><code>\d</code>, 半角数字 (<code>[0-9]</code>)</li>
<li><code>\D</code>, 非半角数字 (<code>[^0-9]</code>)</li>
</ul>
<h2>使用方法</h2>
<p>動作確認は以下のコンパイラーで行っています。</p>
<ul>
<li>GNU Fortran (<code>gfortran</code>) v13.2.1</li>
<li>Intel Fortran Compiler (<code>ifx</code>) 2024.0.0 20231017</li>
</ul>
<p>以下では、ビルドとAPIの使い方について解説しますが、Fortranパッケージマネージャー（<code>fpm</code>）を利用することを前提とします。</p>
<h3>ビルド</h3>
<p>まず初めに、あなたのプロジェクトの<code>fpm.toml</code>に以下の記述を追加します。</p>
<div class="codehilite"><pre><span></span><code><span class="k">[dependencies]</span>
<span class="n">forgex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/shinobuamasaki/forgex&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tag</span><span class="p">=</span><span class="s2">&quot;v2.0&quot;</span><span class="p">}</span>
</code></pre></div>

<h3>APIの使い方</h3>
<p>そのプロジェクトのプログラムのヘッダーに<code>use forgex</code>と記述すると、<code>.in.</code>と<code>.match.</code>の演算子、
<code>regex</code>サブルーチンと<code>regex_f</code>関数が導入され、<code>use</code>文の有効なスコープでこれらの4つを使用することができます。</p>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">main</span>
<span class="w">   </span><span class="k">use</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">forgex</span>
<span class="w">   </span><span class="k">implicit none</span>
</code></pre></div>

<p><code>.in.</code>演算子は、文字列型を引数にとり、第一引数のパターンが、第二引数の文字列に含まれる場合に真を返します。</p>
<div class="codehilite"><pre><span></span><code><span class="k">block</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span>

<span class="w">   </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;foo(bar|baz)&#39;</span>
<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;foobarbaz&quot;</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="p">.</span><span class="n">in</span><span class="p">.</span><span class="w"> </span><span class="n">str</span><span class="w">  </span><span class="c">! T</span>

<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;foofoo&quot;</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="p">.</span><span class="n">in</span><span class="p">.</span><span class="w"> </span><span class="n">str</span><span class="w">  </span><span class="c">! F</span>
<span class="k">end block</span>
</code></pre></div>

<p><code>.match.</code>演算子は、同様に指定されたパターンが、厳密に文字列と一致する場合に真を返します。</p>
<div class="codehilite"><pre><span></span><code><span class="k">block</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span>

<span class="w">   </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\d{3}-\d{4}&#39;</span>
<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;100-0001&#39;</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="p">.</span><span class="n">match</span><span class="p">.</span><span class="w"> </span><span class="n">str</span><span class="w">  </span><span class="c">! T</span>

<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1234567&#39;</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="p">.</span><span class="n">match</span><span class="p">.</span><span class="w"> </span><span class="n">str</span><span class="w">  </span><span class="c">! F</span>
<span class="k">end block</span>
</code></pre></div>

<p><code>regex</code>関数は、入力文字列の中でパターンに一致した部分文字列を返します。</p>
<div class="codehilite"><pre><span></span><code><span class="k">block</span>
<span class="w">   </span><span class="k">character</span><span class="p">(</span><span class="o">:</span><span class="p">),</span><span class="w"> </span><span class="n">allocatable</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span>
<span class="w">   </span><span class="kt">integer</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">length</span><span class="w"> </span>

<span class="w">   </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;foo(bar|baz)&#39;</span>
<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;foobarbaz&#39;</span>

<span class="w">   </span><span class="k">call</span><span class="w"> </span><span class="n">regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">)</span><span class="w">              </span>
<span class="w">   </span><span class="n">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="w">                              </span><span class="o">!</span><span class="w"> </span><span class="n">foobar</span>

<span class="w">   </span><span class="o">!</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="w"> </span>
<span class="w">        </span><span class="o">!</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="k">stored</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">optional</span><span class="w"> </span><span class="n n-Quoted">`length`</span><span class="w"> </span><span class="n">variable</span><span class="p">.</span>

<span class="k">end</span><span class="w"> </span><span class="k">block</span>
</code></pre></div>

<p>オプショナル引数の<code>from</code>/<code>to</code>を使用すると、与えた文字列から添字を指定して部分文字列を切り出すことができます。</p>
<div class="codehilite"><pre><span></span><code><span class="k">block</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span>
<span class="w">   </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span>

<span class="w">   </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;[d-f]{3}&#39;</span>
<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;abcdefghi&#39;</span>

<span class="w">   </span><span class="k">call </span><span class="n">regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="o">=</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">to</span><span class="p">)</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="w">                   </span><span class="c">! def</span>

<span class="w">   </span><span class="c">! The `from` and `to` variables store the indices of the start and end points</span>
<span class="w">   </span><span class="c">! of the matched part of the string `str`, respectively.</span>

<span class="w">   </span><span class="c">! Cut out before the matched part.</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">from</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">        </span><span class="c">! abc</span>

<span class="w">   </span><span class="c">! Cut out the matched part that equivalent to the result of the `regex` function. </span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">from</span><span class="p">:</span><span class="n">to</span><span class="p">)</span><span class="w">         </span><span class="c">! def </span>

<span class="w">   </span><span class="c">! Cut out after the matched part. </span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">to</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">str</span><span class="p">))</span><span class="w">   </span><span class="c">! ghi</span>

<span class="k">end block</span>
</code></pre></div>

<p><code>regex</code>関数の宣言部（インタフェース）は次の通りです。</p>
<div class="codehilite"><pre><span></span><code><span class="k">interface </span><span class="n">regex</span>
<span class="w">   </span><span class="k">module procedure</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">subroutine__regex</span>
<span class="k">end interface</span>

<span class="k">pure subroutine </span><span class="n">subroutine__regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="p">)</span>
<span class="w">   </span><span class="k">implicit none</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w">              </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">text</span>
<span class="w">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">inout</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">res</span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="w">      </span><span class="k">optional</span><span class="p">,</span><span class="w">    </span><span class="k">intent</span><span class="p">(</span><span class="n">inout</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span>
</code></pre></div>

<p>マッチした文字列を関数の戻り値として得たい場合には、<code>regex_f</code>関数を使用してください。</p>
<div class="codehilite"><pre><span></span><code><span class="k">interface </span><span class="n">regex_f</span>
<span class="w">   </span><span class="k">module procedure</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">function__regex</span>
<span class="k">end interface </span><span class="n">regex_f</span>

<span class="k">pure function </span><span class="n">function__regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="w">   </span><span class="k">implicit none</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">text</span>
<span class="w">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">res</span>
</code></pre></div>

<p>現時点のバージョンでは、これらのAPIをループ内で使用する場合、<code>do</code>ループと<code>do concurrent</code>ループでは使用できますが、OpenMPの並列コードブロックでは使用できない点に注意してください。</p>
<h3>UTF-8文字列のマッチング</h3>
<p>UTF-8の文字列についても、ASCII文字と同様に正規表現のパターンで一致させることができます。
以下の例は、漢文の一節に対してマッチングを試みています。</p>
<div class="codehilite"><pre><span></span><code><span class="k">block</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span>
<span class="w">   </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">length</span>

<span class="w">   </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;夢.{1,7}胡蝶&quot;</span>
<span class="w">   </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;昔者莊周夢爲胡蝶　栩栩然胡蝶也&quot;</span>

<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="p">.</span><span class="n">in</span><span class="p">.</span><span class="w"> </span><span class="n">str</span><span class="w">            </span><span class="c">! T</span>
<span class="w">   </span><span class="k">call </span><span class="n">regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">)</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="w">                         </span><span class="c">! 夢爲胡蝶　栩栩然胡蝶</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w">                      </span><span class="c">! 30 (is 3-byte * 10 characters)</span>

<span class="k">end block</span>
</code></pre></div>

<p>この例では<code>length</code>変数にバイト長が格納され、この場合は10個の3バイト文字に一致したので、その長さは30となります。</p>
<h2>To Do</h2>
<ul>
<li>UTF-8において無効なバイトストリームへの対処</li>
<li>リテラル検索によるマッチングの最適化</li>
<li>✅️ すべてのAPI演算子に<code>pure elemental</code>属性を追加</li>
<li>✅️ ドキュメントの公開</li>
<li>✅️ UTF-8文字の基本的なサポート</li>
<li>✅️ On-the-FlyのDFA構築</li>
<li>✅️ CMakeによるビルドのサポート</li>
<li>✅️ 時間計測ツールの追加</li>
<li><s>マッチングの並列化</s></li>
</ul>
<h2>コーディング規約</h2>
<p>本プロジェクトに含まれるすべてのコードは、3スペースのインデントで記述されます。</p>
<h2>謝辞</h2>
<p>冪集合構成法のアルゴリズムと構文解析については、Russ Cox氏の論文と近藤嘉雪氏の本を参考にしました。
優先度付きキューの実装は、<a href="https://github.com/ue1221/fortran-utilities">ue1221さんのコード</a>に基づいています。
文字列に対して<code>.in.</code>演算子を適用するというアイデアは、soybeanさんのものにインスパイアされました。</p>
<h2>参考文献</h2>
<ol>
<li>Russ Cox <a href="https://swtch.com/~rsc/regexp/regexp1.html">"Regular Expression Matching Can Be Simple And Fast"</a>, 2007年</li>
<li>近藤嘉雪, "定本 Cプログラマのためのアルゴリズムとデータ構造", 1998年, SB Creative.</li>
<li><a href="https://github.com/ue1221/fortran-utilities">ue1221/fortran-utilities</a></li>
<li><a href="https://github.com/kazulagi">kazulagi, @soybean</a>, <a href="https://qiita.com/soybean/items/7cdd2156a9d8843c0d91">Fortranでユーザー定義演算子.in.を作る - Qiita.com</a>, 2022年</li>
</ol>
<h2>ライセンス</h2>
<p>このプロジェクトはMITライセンスで提供されるフリーソフトウェアです
（cf. <a href="https://github.com/ShinobuAmasaki/forgex/blob/main/LICENSE">LICENSE</a>）。</p>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Forgex—Fortran Regular Expression
 was developed by Amasaki Shinobu<br>              &copy; 2023-2024 <a rel="license" href="https://opensource.org/licenses/MIT">MIT</a>
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2024-08-04 06:24              </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../../tipuesearch/tipuesearch_content.js"></script>
          <script src="../../tipuesearch/tipuesearch_set.js"></script>
          <script src="../../tipuesearch/tipuesearch.js"></script>

  </body>
</html>